<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic GitHub API Interaction • projmgr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Basic GitHub API Interaction">
<meta property="og:description" content="projmgr">
<meta property="og:image" content="https://emilyriederer.github.io/projmgr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-132815709-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132815709-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">projmgr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../CREDITS.html">Credits</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/emilyriederer/projmgr/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="basic-usage_files/header-attrs-2.17/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Basic GitHub API Interaction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/emilyriederer/projmgr/blob/master/vignettes/basic-usage.Rmd"><code>vignettes/basic-usage.Rmd</code></a></small>
      <div class="hidden name"><code>basic-usage.Rmd</code></div>

    </div>

    
    
<p>This vignette illustrates basic <code>projmgr</code> codeflows.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">projmgr</span>)
<span class="co">#&gt; Warning: package 'projmgr' was built under R version 4.0.5</span></pre></body></html></div>
<div id="creating-a-repo-reference" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-repo-reference" class="anchor"></a>Creating a Repo Reference</h2>
<p>The first step to interacting with a GitHub repository is creating a
repository reference. Repository references are “first class citizens”
in <code>projmgr</code> and contain all authorization credentials. These
references are passed as the first argument in all <code>get_</code>
functions and <code>post_</code> functions.</p>
<p>Suppose, for example, we are interested in pulling data about issues
in the <code>dplyr</code> repository. We would start off by creating a
repository reference with the <code><a href="../reference/create_repo_ref.html">create_repo_ref()</a></code>
function.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">dplyr</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/create_repo_ref.html">create_repo_ref</a></span>(<span class="st">'tidyverse'</span>, <span class="st">'dplyr'</span>)
<span class="co">#&gt; Requests will authenticate with GITHUB_PAT</span></pre></body></html></div>
<p>Note that this function has many additional parameters that you can
specify as needed. For example:</p>
<ul>
<li>if you are using GitHub Enterprise, set
<code>is_enterprise = TRUE</code> and pass your company’s internal
GitHub URL in through <code>hostname</code>
</li>
<li>if you personal access tokens are stored in environment variables
with a different name than GITHUB_PAT (or GITHUB_PAT_ENT when
<code>is_enterprise = TRUE</code>), the name you used can be passed
through <code>hostname</code>
</li>
<li>
<code>identifier</code> lets you provide your credentials in
different ways if you haven’t set up a PAT or it is called something
else (see the GitHub PAT vignette or the <code><a href="../reference/create_repo_ref.html">create_repo_ref()</a></code>
documentation for more details)</li>
</ul>
<p>The <code>check_</code> family of functions provide some basic
validations that everything is working.</p>
<p><code><a href="../reference/check_internet.html">check_internet()</a></code> tests for problems connecting to the
internet.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="../reference/check_internet.html">check_internet</a></span>()</pre></body></html></div>
<div class="sourceCode" id="cb4"><html><body><pre class="r">#&gt; [1] TRUE</pre></body></html></div>
<p><code><a href="../reference/check_credentials.html">check_credentials()</a></code> confirms the login associated with
the PAT and describes the level of access that PAT have to the specified
repo.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/check_credentials.html">check_credentials</a></span>(<span class="no">dplyr</span>)</pre></body></html></div>
<div class="sourceCode" id="cb6"><html><body><pre class="r">#&gt; -- With provided credentials -- 
#&gt; + Login: emilyriederer
#&gt; + Type: User
#&gt; -- In the dplyr repo -- 
#&gt; + Admin: FALSE
#&gt; + Push: FALSE
#&gt; + Pull: FALSE</pre></body></html></div>
<p><code><a href="../reference/check_rate_limit.html">check_rate_limit()</a></code> checks how many more API requests you
can send and when that count will reset. Note that this accepts a repo
reference as a parameter <em>only to get authentication information for
an account</em>. Limits to requests are established at the account-level
not the repository level.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/check_rate_limit.html">check_rate_limit</a></span>(<span class="no">dplyr</span>)</pre></body></html></div>
<div class="sourceCode" id="cb8"><html><body><pre class="r">#&gt; 4998 / 5000 (Resets at 22:26:20)</pre></body></html></div>
</div>
<div id="getting-issues" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-issues" class="anchor"></a>Getting Issues</h2>
<p><code>get_</code> functions retrieve information from the GitHub API.
The first argument is the repository reference and additional named
query parameters can be passed subsequently.</p>
<p>For example, here, we request issues of the first
<code>milestone</code> with either an open or closed <code>state</code>.
(Note that, in keeping with the GitHub API, only open issues are
returned when <code>state</code> is not specified. If you’re trying to
build a productivity report, i.e. about everything that’s been
<em>completed</em>, it’s very important to specify <code>state</code> as
“closed” or “all”.)</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">dplyr_issues_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/get_issues.html">get_issues</a></span>(<span class="no">dplyr</span>, <span class="kw">milestone</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">state</span> <span class="kw">=</span> <span class="st">'all'</span>)</pre></body></html></div>
<p>If you don’t know what parameters are available, the
<code>help_&lt;function_name&gt;</code> family provides more information
on valid arguments to include in <code>get_</code> and
<code>post_</code> functions.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="../reference/help.html">help_get_issues</a></span>()
<span class="co">#&gt; [1] "milestone" "state"     "assignee"  "creator"   "mentioned" "labels"   </span>
<span class="co">#&gt; [7] "sort"      "direction" "since"</span></pre></body></html></div>
<p>Or take a guess. The <code>get_</code> functions will check that all
of your named query parameters are accepted by the API and throw an
error for any that are unrecognized.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/get_issues.html">get_issues</a></span>(<span class="no">dplyr</span>, <span class="kw">not_a_real_parameter</span> <span class="kw">=</span> <span class="st">'abc'</span>)</pre></body></html></div>
<div class="sourceCode" id="cb12"><html><body><pre class="r">#&gt; Error: The following user-inputted variables are not relevant to this API request: 
#&gt; + not_a_real_parameter 
#&gt; Allowed variables are: 
#&gt; + milestone,state,assignee,creator,mentioned,labels,sort,direction,since 
#&gt; Please remove unallowed fields and try again. 
#&gt; Use the browse_docs() function or visit https://developer.github.com/v3/ for full API documentation.</pre></body></html></div>
<p>As the <code><a href="../reference/get_issues.html">get_issues()</a></code> error message says, detailed
documentation can also be viewed using the <code><a href="../reference/browse_docs.html">browse_docs()</a></code>
function. This function launches your browser to the appropriate part of
the GitHub API documentation. For example, one might run:</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="../reference/browse_docs.html">browse_docs</a></span>(<span class="kw">action</span> <span class="kw">=</span> <span class="st">'get'</span>, <span class="kw">object</span> <span class="kw">=</span> <span class="st">'issue'</span>)
<span class="co">#&gt; Open URL https://developer.github.com/v3/issues/#list-issues-for-a-repository</span></pre></body></html></div>
<p>Results are returned as a list, closely mirror the JSON output from
the actual API.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">dplyr_issues_list</span><span class="kw">[[</span><span class="fl">1</span>]], <span class="kw">max.level</span> <span class="kw">=</span> <span class="fl">1</span>)
<span class="co">#&gt; List of 23</span>
<span class="co">#&gt;  $ url               : chr "https://api.github.com/repos/tidyverse/dplyr/issues/1229"</span>
<span class="co">#&gt;  $ repository_url    : chr "https://api.github.com/repos/tidyverse/dplyr"</span>
<span class="co">#&gt;  $ labels_url        : chr "https://api.github.com/repos/tidyverse/dplyr/issues/1229/labels{/name}"</span>
<span class="co">#&gt;  $ comments_url      : chr "https://api.github.com/repos/tidyverse/dplyr/issues/1229/comments"</span>
<span class="co">#&gt;  $ events_url        : chr "https://api.github.com/repos/tidyverse/dplyr/issues/1229/events"</span>
<span class="co">#&gt;  $ html_url          : chr "https://github.com/tidyverse/dplyr/issues/1229"</span>
<span class="co">#&gt;  $ id                : int 89591755</span>
<span class="co">#&gt;  $ node_id           : chr "MDU6SXNzdWU4OTU5MTc1NQ=="</span>
<span class="co">#&gt;  $ number            : int 1229</span>
<span class="co">#&gt;  $ title             : chr "Pass custom functions to select()"</span>
<span class="co">#&gt;  $ user              :List of 18</span>
<span class="co">#&gt;  $ labels            :List of 1</span>
<span class="co">#&gt;  $ state             : chr "closed"</span>
<span class="co">#&gt;  $ locked            : logi TRUE</span>
<span class="co">#&gt;  $ assignee          : NULL</span>
<span class="co">#&gt;  $ assignees         : list()</span>
<span class="co">#&gt;  $ milestone         :List of 16</span>
<span class="co">#&gt;  $ comments          : int 1</span>
<span class="co">#&gt;  $ created_at        : chr "2015-06-19T15:26:31Z"</span>
<span class="co">#&gt;  $ updated_at        : chr "2018-06-08T13:56:05Z"</span>
<span class="co">#&gt;  $ closed_at         : chr "2017-02-02T21:10:56Z"</span>
<span class="co">#&gt;  $ author_association: chr "NONE"</span>
<span class="co">#&gt;  $ body              : chr "Right now, you're limited in column selection when using select() and magrittr.\n\nConsider the situation where"| __truncated__</span></pre></body></html></div>
<p>It’s likely you may prefer to work with them as dataframes instead.
The <code>parse_</code> family of functions converts “raw” list output
from <code>get_</code> into a dataframe.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">dplyr_issues</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/parse_issues.html">parse_issues</a></span>(<span class="no">dplyr_issues_list</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">dplyr_issues</span>)
<span class="co">#&gt;                                              url       id number</span>
<span class="co">#&gt; 1 https://github.com/tidyverse/dplyr/issues/1229 89591755   1229</span>
<span class="co">#&gt; 2 https://github.com/tidyverse/dplyr/issues/1183 82642129   1183</span>
<span class="co">#&gt; 3 https://github.com/tidyverse/dplyr/issues/1039 64353442   1039</span>
<span class="co">#&gt; 4  https://github.com/tidyverse/dplyr/issues/741 47540964    741</span>
<span class="co">#&gt; 5  https://github.com/tidyverse/dplyr/issues/549 40514628    549</span>
<span class="co">#&gt; 6  https://github.com/tidyverse/dplyr/issues/511 38883873    511</span>
<span class="co">#&gt;                                                                    title</span>
<span class="co">#&gt; 1                                      Pass custom functions to select()</span>
<span class="co">#&gt; 2                                           hybrid handler for quantile </span>
<span class="co">#&gt; 3                      Should dplyr commands gobble empty last argument?</span>
<span class="co">#&gt; 4                                                      Antonym to filter</span>
<span class="co">#&gt; 5                                         equivalent of pig's ILLUSTRATE</span>
<span class="co">#&gt; 6 SQL error, when the right hand side of %in% is of length one in filter</span>
<span class="co">#&gt;      user_login user_id  state locked milestone_title milestone_id</span>
<span class="co">#&gt; 1  msjgriffiths 1093821 closed   TRUE         bluesky       491295</span>
<span class="co">#&gt; 2 matthieugomez 6223837 closed   TRUE         bluesky       491295</span>
<span class="co">#&gt; 3        rpruim  722231 closed   TRUE         bluesky       491295</span>
<span class="co">#&gt; 4 matthieugomez 6223837 closed   TRUE         bluesky       491295</span>
<span class="co">#&gt; 5       jhofman   79563 closed   TRUE         bluesky       491295</span>
<span class="co">#&gt; 6       vzemlys  320871 closed   TRUE         bluesky       491295</span>
<span class="co">#&gt;   milestone_number milestone_state milestone_created_at milestone_closed_at</span>
<span class="co">#&gt; 1                1            open           2013-11-20                &lt;NA&gt;</span>
<span class="co">#&gt; 2                1            open           2013-11-20                &lt;NA&gt;</span>
<span class="co">#&gt; 3                1            open           2013-11-20                &lt;NA&gt;</span>
<span class="co">#&gt; 4                1            open           2013-11-20                &lt;NA&gt;</span>
<span class="co">#&gt; 5                1            open           2013-11-20                &lt;NA&gt;</span>
<span class="co">#&gt; 6                1            open           2013-11-20                &lt;NA&gt;</span>
<span class="co">#&gt;   milestone_due_on n_comments created_at updated_at  closed_at</span>
<span class="co">#&gt; 1             &lt;NA&gt;          1 2015-06-19 2018-06-08 2017-02-02</span>
<span class="co">#&gt; 2             &lt;NA&gt;          4 2015-05-30 2018-06-08 2017-02-02</span>
<span class="co">#&gt; 3             &lt;NA&gt;          7 2015-03-25 2018-06-08 2017-03-24</span>
<span class="co">#&gt; 4             &lt;NA&gt;          3 2014-11-02 2018-06-08 2017-02-02</span>
<span class="co">#&gt; 5             &lt;NA&gt;         10 2014-08-18 2018-06-08 2017-02-02</span>
<span class="co">#&gt; 6             &lt;NA&gt;         16 2014-07-28 2018-06-08 2017-02-14</span>
<span class="co">#&gt;   author_association</span>
<span class="co">#&gt; 1               NONE</span>
<span class="co">#&gt; 2               NONE</span>
<span class="co">#&gt; 3               NONE</span>
<span class="co">#&gt; 4               NONE</span>
<span class="co">#&gt; 5               NONE</span>
<span class="co">#&gt; 6               NONE</span>
<span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 body</span>
<span class="co">#&gt; 1                                                                                                                                                                                                                                                                                                                                                             Right now, you're limited in column selection when using select() and magrittr.\n\nConsider the situation where you have a table, and you want to select certain columns at an intermediate point in a transformation pipeline, but don't want to (i) use fixed column indexes and (ii) don't want to save out an intermediary variable and identify column names separately.\n\nIt would make sense to be able to define a custom function in the same format as `everything()` or `one_of()`, and have `select()` and `gather()` and other functions use a custom function for selection variables.\n\nIn principle the function you take in a list of column names (e.g. `names(data)`) and then output a list of integer positions (e.g. `c(1, 2, 7)`. \n\nExample usage:\n\n``` r\n\n# Pass in column that expects the first parameter to be a list of column names.\ndata %&gt;% gather(key, value, function(vars) {\n    vars[-grep("Drop", vars, fixed = TRUE)]\n})\n\n# Define a function that expect the first parameter to be column names, second to be matches.\nnot_contains &lt;- function(vars, match){\n    vars[-grep(match, vars, fixed = TRUE)]\n}\ndata %&gt;% select(not_contains("avoid"))\n```\n\nLess ideally, allow custom functions to be registered as [part of `select_funs`](https://github.com/hadley/dplyr/blob/master/R/select-vars.R#L67), e.g. something like:\n\n``` r\nnot_contains &lt;- function(vars, match){\n    vars[-grep(match, vars, fixed = TRUE)]\n}\n\ndplyr::register_select_funs(not_contains)\n\ndata %&gt;% select(not_contains("avoid"))\n```\n</span>
<span class="co">#&gt; 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         It would be great to have an hybrid hander for quantile. For now it is orders of magnitude slower than mean:\n\n``` R\ndf &lt;- data_frame(\n         id =  sample(1e5, 1e6, TRUE),                      \n         v =  sample(5, 1e6, TRUE)                        \n    )\ndf1 &lt;- df %&gt;% group_by(id)\nsystem.time(summarize(df1,  mean(v)))\n# user  system elapsed \n#  0.041   0.001   0.056 \nsystem.time(summarize(df1,  quantile(v, 0.50, type = 1)))\n#   user  system elapsed \n#15.080   0.060  15.157 \n```\n\nSince quantile has so many options, maybe a function called `qtile` which implements only one kind (the kind used for `ntile`).\n</span>
<span class="co">#&gt; 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       It would be nice to allow a trailing comma in commands like the example below.  That would make it easier to rearrange the order or to comment out lines without needing to figure out whether the commas need adjusting.\n\n```\ndiamonds %&gt;%\n  group_by(color, clarity) %&gt;%\n  summarise(\n    depth = mean(depth),\n    price = mean(price),\n    carat = mean(carat),  #  &lt;-- trailing comma here currently causes errors\n  )\n```\n\nI'm imaging a function that could be called at the top of a function definition that would gobble this empty argument.  Or perhaps a wrapper function a la `Vectorize()` that could be used to convert any function into a function with this behavior.  Seems like this could be useful for many functions both within `dplyr` and elsewhere.\n</span>
<span class="co">#&gt; 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    It would be useful to have a function, say `discard`, that discards rows where the condition evaluates to TRUE. This function would be different from `filter(!condition)` when condition evaluates to NA. Example below\n\n``` R\nx &lt;- data.frame(v1 = c(1, 2, NA))\n#&gt;  v1\n#&gt;1  1\n#&gt;2  2\n#&gt;3 NA\nfilter(x, !(v1 == 1))\n#&gt;  v1\n#&gt;1  2\ndiscard(x, v1 == 1)\n#&gt;  v1\n#&gt;1  2\n#&gt;2 NA\n```\n</span>
<span class="co">#&gt; 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   pig has a great command called ILLUSTRATE that demonstrates how a sample of data will be transformed through a series of commands. it's very useful for debugging, and a great educational tool to generate example data transformations.\n\nneedless to say, it'd be awesome if dplyr had a similar function.\n\nmore info here:\n\nhttp://pig.apache.org/docs/r0.7.0/piglatin_ref2.html#ILLUSTRATE\nhttp://wiki.apache.org/pig/PigIllustrate\n</span>
<span class="co">#&gt; 6 When filtering the table from the database the error is produced if `%in%` is used and the right hand side fo it is of length one:\n\n```\nlibrary(dplyr)\nlibrary(DBI)\nlibrary(RSQLite)\nlibrary(RPostgreSQL)\nlibrary(RMySQL)\nlibrary(magrittr)\n\ndt &lt;- expand.grid(Year=as.integer(1990:2014),Product=LETTERS[1:8],Country=paste0(LETTERS,"I")) %&gt;% select(Product,Country,Year)\ndt$value &lt;- rnorm(nrow(dt))\n\ndt &lt;- dt %&gt;% group_by(Product) %&gt;% mutate(value=value+as.numeric(Product)/10)\ndt &lt;- dt %&gt;% group_by(Country) %&gt;% mutate(value=value+as.numeric(Country)/10)\ndriver = dbDriver("SQLite")\ncon = dbConnect(driver, dbname = "test.db")\ndbWriteTable(con, c("dummy_test"), value=dt %&gt;% data.frame,overwrite=TRUE,row.names=FALSE)\ndbDisconnect(con)\n\nmy_db &lt;- src_sqlite("test.db")\nprint(my_db)\ndbdt &lt;- tbl(my_db,"dummy_test")\n\n##test1\ndbdt %&gt;% filter(Product %in% "A" &amp; Country %in% "AI" &amp; Year %in% 1990 )\n##test2\ndbdt %&gt;% filter(Product == "A" &amp; Country == "AI" &amp; Year == 1990 )\n##test3\ndbdt %&gt;% filter(Product %in% c("A", "B") &amp; Country %in% c("AI", "AJ") &amp; Year %in% c(1990, 1991) )\n\n\n```\n\nThe `test1` produces error, while the `test2` and `test3` pass without the problem. In R `test1` and `test2` should produce identical results. The same error is given with PostgreSQL and MySQL databases. Here is my sessionInfo:\n\n```\n&gt; sessionInfo()\nR version 3.1.1 (2014-07-10)\nPlatform: x86_64-apple-darwin13.1.0 (64-bit)\n\nlocale:\n[1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/C\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] magrittr_1.0.1  RPostgreSQL_0.4 RSQLite_0.11.4  dplyr_0.2      \n[5] RMySQL_0.9-3    DBI_0.2-7      \n\nloaded via a namespace (and not attached):\n[1] assertthat_0.1 compiler_3.1.1 parallel_3.1.1 Rcpp_0.11.2    tools_3.1.1   \n```\n</span>
<span class="co">#&gt;   repo_owner repo_name labels_name assignees_login</span>
<span class="co">#&gt; 1       &lt;NA&gt;      &lt;NA&gt;     feature                </span>
<span class="co">#&gt; 2       &lt;NA&gt;      &lt;NA&gt;                            </span>
<span class="co">#&gt; 3       &lt;NA&gt;      &lt;NA&gt;     feature hadley, lionel-</span>
<span class="co">#&gt; 4       &lt;NA&gt;      &lt;NA&gt;                            </span>
<span class="co">#&gt; 5       &lt;NA&gt;      &lt;NA&gt;     feature          hadley</span>
<span class="co">#&gt; 6       &lt;NA&gt;      &lt;NA&gt;  bug :bomb:          hadley</span></pre></body></html></div>
<p>Columns that can contain multiple values (e.g. multiple label names
or assignees) appear as lists.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>( <span class="no">dplyr_issues</span>[,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"labels_name"</span>, <span class="st">"assignees_login"</span>)] )
<span class="co">#&gt;   labels_name assignees_login</span>
<span class="co">#&gt; 1     feature                </span>
<span class="co">#&gt; 2                            </span>
<span class="co">#&gt; 3     feature hadley, lionel-</span>
<span class="co">#&gt; 4                            </span>
<span class="co">#&gt; 5     feature          hadley</span>
<span class="co">#&gt; 6  bug :bomb:          hadley</span>
<span class="no">dplyr_issues</span>$<span class="no">assignees_login</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] "hadley"  "lionel-"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt; [1] "hadley"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[6]]</span>
<span class="co">#&gt; [1] "hadley"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[7]]</span>
<span class="co">#&gt; [1] "hadley"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[8]]</span>
<span class="co">#&gt; [1] "hadley"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[9]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[10]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[11]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[12]]</span>
<span class="co">#&gt; [1] "hadley"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[13]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[14]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[15]]</span>
<span class="co">#&gt; character(0)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[16]]</span>
<span class="co">#&gt; character(0)</span></pre></body></html></div>
<p>Dataframes can be “expanded” to the issue-assignee or issue-label
granulariy using the <code><a href="https://tidyr.tidyverse.org/reference/nest.html">tidyr::unnest()</a></code> function. For example,
the following code expands the dataframe to one row per issue-assignee.
For example, after running that command, you can see the first two rows
refer to the same assign but different assignees.</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">dplyr_issues</span> <span class="kw">%&gt;%</span>
  <span class="kw pkg">tidyr</span><span class="kw ns">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span>(<span class="no">assignees_login</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">number</span>, <span class="no">title</span>, <span class="no">assignees_login</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()</pre></body></html></div>
<p>In summary, the general process is calling a <code>get_</code>
function followed by a <code>parse_</code> function. We will get
milestones for a second example.</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="no">dplyr_milestones</span> <span class="kw">&lt;-</span>
  <span class="fu"><a href="../reference/get_milestones.html">get_milestones</a></span>(<span class="no">dplyr</span>, <span class="kw">state</span> <span class="kw">=</span> <span class="st">'all'</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/parse_milestones.html">parse_milestones</a></span>()</pre></body></html></div>
</div>
<div id="reporting-on-issue-status" class="section level2">
<h2 class="hasAnchor">
<a href="#reporting-on-issue-status" class="anchor"></a>Reporting On Issue Status</h2>
<p>The <code>report_</code> function family offers an alternative to
visualizations. These functions generate HTML for aethetic output in
RMarkdown reports. Output is automatically tagged so <code>knitr</code>
knows to interpret it as HTML, so it is not necessary to manually add
the <code>results = 'asis'</code> chunk option. (Don’t worry if you
don’t know what this means. You don’t need to do anything!)</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="../reference/report_progress.html">report_progress</a></span>(<span class="no">dplyr_issues</span>)</pre></body></html></div>
<p></p>
<strong> bluesky </strong> <em>( 100 % Complete - 16 / 16 )</em>
<ul class="report_progress" style="list-style: none;">
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/1229">Pass custom
functions to select()</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/1183">hybrid
handler for quantile </a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/1039">Should
dplyr commands gobble empty last argument?</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/741">Antonym to
filter</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/549">equivalent
of pig’s ILLUSTRATE</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/511">SQL error,
when the right hand side of %in% is of length one in filter</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/449">Granular
class</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/419">Think about
how to incorporate matrixUtils with tbl_cube</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/378">Rolling
join</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/205">take
advantage of chaining</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/145">parallel
execution</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/128">Need ability
to register custom sql functions?</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/120">Big data
bottlenecks</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/40">Should tbl_dt
be lazy?</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/37">Implement
ganalytics backend</a>
</li>
<li>
☑ <a href="https://github.com/tidyverse/dplyr/issues/8">MonetDB
backend</a>
</li>
</ul>
<p></p>
</div>
<div id="posting-issues" class="section level2">
<h2 class="hasAnchor">
<a href="#posting-issues" class="anchor"></a>Posting Issues</h2>
<p>The <code>post_</code> function family helps add new objects to a
GitHub repo. For example, the following command adds a new issue to a
repository. After posting new content, <code>post_</code> functions
return the identification number for the new object.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="no">experigit</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/create_repo_ref.html">create_repo_ref</a></span>(<span class="st">'emilyriederer'</span>, <span class="st">'experigit'</span>)
<span class="fu"><a href="../reference/post_issue.html">post_issue</a></span>(<span class="no">experigit</span>,
           <span class="kw">title</span> <span class="kw">=</span> <span class="st">"Add unit tests for post_issues when title duplicated"</span>,
           <span class="kw">body</span> <span class="kw">=</span> <span class="st">"Check that code appropriately warns users when attempting to post a duplicate issue"</span>,
           <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"enhancement"</span>, <span class="st">"test"</span>),
           <span class="kw">assignees</span> <span class="kw">=</span> <span class="st">"emilyriederer"</span> )</pre></body></html></div>
<div class="sourceCode" id="cb21"><html><body><pre class="r">#&gt; [1] 150</pre></body></html></div>
<p>The GitHub API allows multiple issues to have the same title.
However, you may want to disable this functionality (for example, if a
<code>post_</code> function is in a script that may be re-run.) In this
case, the <code>distinct</code> parameter allows you to chose whether or
not to allow the posting of new issues with the same title as
<em>open</em> existing issues. When <code>distinct = TRUE</code> (as it
is by default), the function throws an error and does not post the
issue.</p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="fu"><a href="../reference/post_issue.html">post_issue</a></span>(<span class="no">experigit</span>, <span class="kw">title</span> <span class="kw">=</span> <span class="st">"Add unit tests for post_issues when title duplicated"</span>)</pre></body></html></div>
<div class="sourceCode" id="cb23"><html><body><pre class="r">#&gt; Error: New issue title is not distinct with current open issues. Please change title or set distinct = FALSE.</pre></body></html></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Emily Riederer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'ebfdcb314b81d897faab364541561384',
    indexName: 'projmgr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
